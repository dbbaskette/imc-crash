server:
  port: 8085

spring:
  application:
    name: crash-communications
  ai:
    mcp:
      server:
        name: communications-agent
        version: 1.0.0
        type: SYNC
        protocol: STREAMABLE
        streamable-http:
          mcp-endpoint: /mcp
        instructions: |
          Communications Agent - Handles driver and adjuster communications.

          Available tools:
          - send_sms: Send SMS message to driver
          - send_push_notification: Send push notification via mobile app
          - notify_adjuster: Notify claims adjuster about new claim
          - send_fnol_email: Send FNOL report email to claims adjuster
          - dispatch_roadside_assistance: Dispatch roadside assistance
          - log_communication_event: Log communication for audit trail
          - get_full_communications_status: Get complete communication status
        capabilities:
          tool: true
          resource: false
          prompt: false

# Twilio Configuration
twilio:
  account-sid: ${TWILIO_ACCOUNT_SID:}
  auth-token: ${TWILIO_AUTH_TOKEN:}
  from-number: ${TWILIO_FROM_NUMBER:}

# Gmail SMTP Configuration
gmail:
  username: ${GMAIL_USERNAME:}
  app-password: ${GMAIL_APP_PASSWORD:}
  adjuster-email: ${GMAIL_ADJUSTER_EMAIL:}

spring.mail:
  host: smtp.gmail.com
  port: 587
  username: ${GMAIL_USERNAME:}
  password: ${GMAIL_APP_PASSWORD:}
  properties:
    mail:
      smtp:
        auth: true
        starttls:
          enable: true
          required: true

management:
  endpoints:
    web:
      exposure:
        include: health,info,metrics
  endpoint:
    health:
      show-details: always
  health:
    mail:
      enabled: false

logging:
  level:
    com.insurancemegacorp.crash: DEBUG
    org.springframework.ai.mcp: DEBUG
