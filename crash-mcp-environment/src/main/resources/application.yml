server:
  port: 8082

spring:
  application:
    name: crash-environment
  ai:
    google:
      genai:
        api-key: ${GOOGLE_API_KEY:}
        chat:
          options:
            model: gemini-2.5-flash
            temperature: 0.1
    mcp:
      server:
        name: environment-agent
        version: 1.0.0
        type: SYNC
        protocol: STREAMABLE
        streamable-http:
          mcp-endpoint: /mcp
        instructions: |
          Environment Agent - Gathers environmental context for accident locations.
          Provides weather conditions, location details, and road conditions.
          Uses LLM to intelligently assess road surface conditions based on weather history.

          Available tools:
          - get_weather: Get weather at specific coordinates and time
          - reverse_geocode: Convert GPS coordinates to street address
          - get_road_conditions: Get road surface and traffic conditions (LLM-assessed)
          - get_full_environment_context: Complete environmental report
        capabilities:
          tool: true
          resource: false
          prompt: false

management:
  endpoints:
    web:
      exposure:
        include: health,info,metrics
  endpoint:
    health:
      show-details: always

logging:
  level:
    com.insurancemegacorp.crash: DEBUG
    org.springframework.ai.mcp: DEBUG
